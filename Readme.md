# Скрипты для резервного копирования флешки

Скрипты:

- [register_USB_insert.cmd](register_USB_insert.cmd) регистрирует в windows запуск скрипта при установке флешки.
- `backup_flash.cmd` запускает архиватор rar для архивирования содержимого флешки.
Файлы и каталоги с атрибутом __системный__ не архивируются.
- `save_to_remotes.cmd` копирует созданные архивы на удаленные компьютеры.
Настройки удаленных компьютеров в начале скрипта.
- `set_sheduler.cmd` создает задачу в планировщике заданий запуска скрипта `register_USB_insert.cmd` на событие __ONSTART__

> Программа [USBPlugEvent.exe](https://github.com/initmaster/USBPlugEvent) умеет регистрировать события
установки и снятия USB устройства. см. [USBPlugEvent.md](USBPlugEvent.md)

список актуальных файлов на флешке в `current.filelist`

TODO: Запускать скрипт `backup_flash` автоматически при установке флешки в порт
TODO: `save_to_remotes.cmd` запускается периодически, проверяет доступность удаленных каталогов и раз в день выполняет копирование
